(()=>{"use strict";var e,s={598:(e,s,a)=>{const t=window.wp.element,r=window.wp.i18n,l=window.wp.apiFetch;var n=a.n(l);const i=window.ReactJSXRuntime,o=({posts:e,onRefresh:s})=>{if(!e||0===e.length)return(0,i.jsx)("div",{className:"rsfv-no-posts",children:(0,i.jsx)("p",{children:(0,r.__)("No posts found for this post type.","rsfv")})});const a=e=>e.has_video?(0,i.jsx)("span",{className:"rsfv-badge rsfv-badge-success",children:(0,r.__)("Has Video","rsfv")}):(0,i.jsx)("span",{className:"rsfv-badge rsfv-badge-default",children:(0,r.__)("No Video","rsfv")}),t=e=>e.has_video?"self"===e.video_source?(0,r.__)("Self Hosted","rsfv"):(0,r.__)("Embed","rsfv"):"—";return(0,i.jsxs)("table",{className:"rsfv-posts-table wp-list-table widefat fixed striped",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"column-thumbnail",children:(0,r.__)("Thumbnail","rsfv")}),(0,i.jsx)("th",{className:"column-title",children:(0,r.__)("Title","rsfv")}),(0,i.jsx)("th",{className:"column-status",children:(0,r.__)("Video Status","rsfv")}),(0,i.jsx)("th",{className:"column-type",children:(0,r.__)("Video Type","rsfv")}),(0,i.jsx)("th",{className:"column-actions",children:(0,r.__)("Actions","rsfv")})]})}),(0,i.jsx)("tbody",{children:e.map((e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"column-thumbnail",children:e.thumbnail?(0,i.jsx)("img",{src:e.thumbnail,alt:e.title,className:"rsfv-thumbnail"}):(0,i.jsx)("div",{className:"rsfv-no-thumbnail",children:(0,i.jsx)("span",{className:"dashicons dashicons-format-image"})})}),(0,i.jsxs)("td",{className:"column-title",children:[(0,i.jsx)("strong",{children:(0,i.jsx)("a",{href:e.edit_link,target:"_blank",rel:"noopener noreferrer",children:e.title||(0,r.__)("(No title)","rsfv")})}),(0,i.jsxs)("div",{className:"row-actions",children:[(0,i.jsx)("span",{className:"edit",children:(0,i.jsx)("a",{href:e.edit_link,target:"_blank",rel:"noopener noreferrer",children:(0,r.__)("Edit","rsfv")})})," | ",(0,i.jsx)("span",{className:"view",children:(0,i.jsx)("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",children:(0,r.__)("View","rsfv")})})]})]}),(0,i.jsx)("td",{className:"column-status",children:a(e)}),(0,i.jsx)("td",{className:"column-type",children:t(e)}),(0,i.jsx)("td",{className:"column-actions",children:(0,i.jsx)("a",{href:e.edit_link,className:"button button-small",target:"_blank",rel:"noopener noreferrer",children:e.has_video?(0,r.__)("Edit Video","rsfv"):(0,r.__)("Add Video","rsfv")})})]},e.id)))})]})},c=({currentPage:e,totalPages:s,totalItems:a,onPageChange:t})=>(0,i.jsx)("div",{className:"rsfv-pagination tablenav bottom",children:(0,i.jsxs)("div",{className:"tablenav-pages",children:[(0,i.jsxs)("span",{className:"displaying-num",children:[a," ",(0,r.__)("items","rsfv")]}),(0,i.jsxs)("span",{className:"pagination-links",children:[(0,i.jsx)("button",{className:"first-page button",onClick:()=>{t(1)},disabled:1===e,"aria-label":(0,r.__)("First page","rsfv"),children:"«"}),(0,i.jsx)("button",{className:"prev-page button",onClick:()=>{e>1&&t(e-1)},disabled:1===e,"aria-label":(0,r.__)("Previous page","rsfv"),children:"‹"}),(0,i.jsx)("span",{className:"paging-input",children:(0,i.jsxs)("span",{className:"tablenav-paging-text",children:[e," ",(0,r.__)("of","rsfv")," ",(0,i.jsx)("span",{className:"total-pages",children:s})]})}),(0,i.jsx)("button",{className:"next-page button",onClick:()=>{e<s&&t(e+1)},disabled:e===s,"aria-label":(0,r.__)("Next page","rsfv"),children:"›"}),(0,i.jsx)("button",{className:"last-page button",onClick:()=>{t(s)},disabled:e===s,"aria-label":(0,r.__)("Last page","rsfv"),children:"»"})]})]})}),d=({postTypes:e,selectedPostType:s,onChange:a})=>e&&0!==e.length?(0,i.jsxs)("div",{className:"rsfv-post-type-filter",children:[(0,i.jsx)("label",{htmlFor:"rsfv-post-type-select",children:(0,r.__)("Post Type:","rsfv")}),(0,i.jsx)("select",{id:"rsfv-post-type-select",value:s,onChange:e=>a(e.target.value),children:e.map((e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))})]}):null,p=()=>{const[e,s]=(0,t.useState)(""),[a,l]=(0,t.useState)([]),[p,v]=(0,t.useState)(!1),[h,f]=(0,t.useState)(1),[u,m]=(0,t.useState)(1),[x,j]=(0,t.useState)(0),[g,_]=(0,t.useState)(window.rsfvBulkActions?.perPage||20),b=window.rsfvBulkActions?.postTypes||[];(0,t.useEffect)((()=>{b.length>0&&!e&&s(b[0].value)}),[b,e]);const N=(0,t.useCallback)((async()=>{if(e){v(!0);try{const s=await n()({path:`/rsfv/v1/posts?post_type=${e}&page=${h}&per_page=${g}`,parse:!1}),a=await s.json(),t=parseInt(s.headers.get("X-WP-Total"),10),r=parseInt(s.headers.get("X-WP-TotalPages"),10);l(a),j(t),m(r)}catch(e){console.error("Error fetching posts:",e),l([])}finally{v(!1)}}}),[e,h,g]);return(0,t.useEffect)((()=>{N()}),[N]),(0,i.jsxs)("div",{className:"rsfv-manage-videos",children:[(0,i.jsxs)("div",{className:"rsfv-toolbar",children:[(0,i.jsx)(d,{postTypes:b,selectedPostType:e,onChange:e=>{s(e),f(1)}}),(0,i.jsxs)("div",{className:"rsfv-per-page",children:[(0,i.jsx)("label",{htmlFor:"rsfv-per-page",children:(0,r.__)("Posts per page:","rsfv")}),(0,i.jsxs)("select",{id:"rsfv-per-page",value:g,onChange:e=>{return s=parseInt(e.target.value,10),_(s),void f(1);var s},children:[(0,i.jsx)("option",{value:"10",children:"10"}),(0,i.jsx)("option",{value:"20",children:"20"}),(0,i.jsx)("option",{value:"50",children:"50"}),(0,i.jsx)("option",{value:"100",children:"100"})]})]})]}),p?(0,i.jsxs)("div",{className:"rsfv-loading",children:[(0,i.jsx)("span",{className:"spinner is-active"}),(0,i.jsx)("span",{children:(0,r.__)("Loading posts...","rsfv")})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o,{posts:a,onRefresh:N}),u>1&&(0,i.jsx)(c,{currentPage:h,totalPages:u,totalItems:x,onPageChange:e=>{f(e)}})]})]})},v=()=>{const[e,s]=(0,t.useState)("manage"),a=[{id:"manage",label:(0,r.__)("Manage Featured Videos","rsfv")}];return(0,i.jsxs)("div",{className:"rsfv-bulk-actions-app",children:[(0,i.jsx)("div",{className:"rsfv-tabs",children:(0,i.jsx)("nav",{className:"rsfv-tabs-nav",children:a.map((a=>(0,i.jsx)("button",{className:"rsfv-tab-button "+(e===a.id?"active":""),onClick:()=>s(a.id),children:a.label},a.id)))})}),(0,i.jsx)("div",{className:"rsfv-tab-content",children:"manage"===e&&(0,i.jsx)(p,{})})]})},h=document.getElementById("rsfv-bulk-actions-app");h&&(0,t.createRoot)(h).render((0,i.jsx)(v,{}))}},a={};function t(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return s[e](l,l.exports,t),l.exports}t.m=s,e=[],t.O=(s,a,r,l)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,r,l]=e[d],i=!0,o=0;o<a.length;o++)(!1&l||n>=l)&&Object.keys(t.O).every((e=>t.O[e](a[o])))?a.splice(o--,1):(i=!1,l<n&&(n=l));if(i){e.splice(d--,1);var c=r();void 0!==c&&(s=c)}}return s}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,r,l]},t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={57:0,350:0};t.O.j=s=>0===e[s];var s=(s,a)=>{var r,l,[n,i,o]=a,c=0;if(n.some((s=>0!==e[s]))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(o)var d=o(t)}for(s&&s(a);c<n.length;c++)l=n[c],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},a=globalThis.webpackChunkreally_simple_featured_video=globalThis.webpackChunkreally_simple_featured_video||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))})();var r=t.O(void 0,[350],(()=>t(598)));r=t.O(r)})();